# =========================================================================
#     This makefile was generated by
#     Bakefile 0.2.0 (http://bakefile.sourceforge.net)
#     Do not modify, all changes will be overwritten!
# =========================================================================


@MAKE_SET@

prefix = @prefix@
exec_prefix = @exec_prefix@
INSTALL = @INSTALL@

### Variables: ###

DESTDIR = 

### Conditionally set variables: ###


### Targets: ###

all: lib examples

install: all
	(cd lib && $(MAKE) install)

uninstall: 
	(cd lib && $(MAKE) uninstall)

install-strip: install

clean: 
	rm -rf ./.deps ./.pch
	rm -f ./*.o
	(cd lib && $(MAKE) clean)
	(cd examples && $(MAKE) clean)

distclean: clean
	rm -f config.cache config.log config.status bk-deps bk-make-pch shared-ld-sh Makefile

lib: 
	(cd lib && $(MAKE) all)

examples: 
	(cd examples && $(MAKE) all)

dist: dist-build
	tar czf mysql++-@PACKAGE_VERSION@.tar.gz mysql++-@PACKAGE_VERSION@
	rm -rf mysql++-@PACKAGE_VERSION@

dist-build: 
	for d in config doc/refman/html doc/userman/html lib ; do \
	mkdir -p mysql++-@PACKAGE_VERSION@/$$d ; \
	done
	cp Bakefiles.bkgen bootstrap ChangeLog cleanmf \
	common.bkl config.guess config.h.in config.sub \
	configure* COPYING CREDITS do-upload fetch-backup \
	HACKERS INSTALL install.bat install-sh \
	libmysqlclient.def LICENSE Makefile.* mysql++.* \
	osver README* rebake reconf Wishlist mysql++-@PACKAGE_VERSION@
	cp config/*.m4 mysql++-@PACKAGE_VERSION@/config
	cp doc/README* doc/*.pdf doc/ssqls-pretty mysql++-@PACKAGE_VERSION@/doc
	for f in LICENSE Makefile mktxt README *.{xsl,xml} ; do \
	cp doc/userman/$$f mysql++-@PACKAGE_VERSION@/doc/userman ; \
	done
	for d in refman userman ; do \
	for f in *.{css,html} ; do \
	cp doc/$$d/html/$$f \
	mysql++-@PACKAGE_VERSION@/doc/$$d/html ; \
	done ; \
	done ; \
	cp doc/refman/html/*.png mysql++-@PACKAGE_VERSION@/doc/refman/html
	cp lib/*.{bkl,cpp,ds?,h,in,pl} lib/Makefile.* mysql++-@PACKAGE_VERSION@/lib
	mkdir -p mysql++-@PACKAGE_VERSION@/examples
	( cd examples && \
	cp *.{bkl,cpp,ds?,h} Makefile.* README \
	../mysql++-@PACKAGE_VERSION@/examples )

rpm-setup: dist
	cp mysql++-@PACKAGE_VERSION@.tar.gz /usr/src/redhat/SOURCES

rpm: rpm-setup
	cd /usr/src/redhat/SPECS
	rpmbuild -bb mysql++.spec

srpm: rpm-setup
	cd /usr/src/redhat/SPECS
	rpmbuild -bs mysql++.spec

ebuild: dist
	cp mysql++-@PACKAGE_VERSION@.tar.gz /usr/portage/distfiles
	cp mysql++.ebuild /usr/portage/dev-db/mysql++/mysql++-@PACKAGE_VERSION@.ebuild
	ebuild /usr/portage/dev-db/mysql++/mysql++-@PACKAGE_VERSION@.ebuild digest

tags: 
	ctags `pwd`/{lib,examples}/*.{cpp,h}
	( cd lib ; ln -sf ../tags . )
	( cd examples ; ln -sf ../tags . )

ctags: tags


# Include dependency info, if present:
@IF_GNU_MAKE@-include .deps/*.d

.PHONY: all install uninstall clean distclean lib examples tags
